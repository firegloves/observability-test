http://localhost:8081/health

###

http://localhost:8081/v1/books

###

POST http://localhost:8081/v1/reviews
content-type: application/json

{
    "book_id": 1,
    "user_id": 1,
    "rating": 5,
    "comment": "This is a test comment"
}

###

# Slow endpoint - 1 second delay
POST http://localhost:8081/v1/performance/slow
content-type: application/json

{
    "latency_ms": 1000,
    "operation_type": "database"
}

###

# Slow endpoint - 3 second delay
POST http://localhost:8081/v1/performance/slow
content-type: application/json

{
    "latency_ms": 3000,
    "operation_type": "external_api"
}

###

# Slow endpoint - minimal delay
POST http://localhost:8081/v1/performance/slow
content-type: application/json

{
    "latency_ms": 100,
    "operation_type": "computation"
}

###

# Slow endpoint - maximum delay
POST http://localhost:8081/v1/performance/slow
content-type: application/json

{
    "latency_ms": 5000,
    "operation_type": "generic"
}

###

# CPU Intensive - Fibonacci (Medium intensity)
POST http://localhost:8081/v1/performance/cpu
content-type: application/json

{
    "computation_type": "fibonacci",
    "intensity": "medium"
}

###

# CPU Intensive - Prime Calculation (Low intensity)
POST http://localhost:8081/v1/performance/cpu
content-type: application/json

{
    "computation_type": "prime_calculation",
    "intensity": "low"
}

###

# CPU Intensive - Matrix Operations (Low intensity)
POST http://localhost:8081/v1/performance/cpu
content-type: application/json

{
    "computation_type": "matrix_operations",
    "intensity": "low"
}

###

# CPU Intensive - Hash Computation (Medium intensity)
POST http://localhost:8081/v1/performance/cpu
content-type: application/json

{
    "computation_type": "hash_computation",
    "intensity": "medium"
}

###

# CPU Intensive - Custom iterations
POST http://localhost:8081/v1/performance/cpu
content-type: application/json

{
    "computation_type": "fibonacci",
    "intensity": "high",
    "iterations": 25
}

###

# Database Heavy - Stats operation
POST http://localhost:8081/v1/performance/heavy
content-type: application/json

{
    "operation_type": "stats"
}

###

# Database Heavy - Complex Join with limit
POST http://localhost:8081/v1/performance/heavy
content-type: application/json

{
    "operation_type": "complex_join",
    "limit": 20
}

###

# Database Heavy - Aggregation with rating analysis
POST http://localhost:8081/v1/performance/heavy
content-type: application/json

{
    "operation_type": "aggregation",
    "aggregation_type": "rating_analysis"
}

###

# Database Heavy - Slow query with delay
POST http://localhost:8081/v1/performance/heavy
content-type: application/json

{
    "operation_type": "slow_query",
    "delay_seconds": 2
}

###

http://localhost:8081/v1/simulateError

###
# ===============================================
# ERROR SCENARIOS - Step 2.1: Database Connection Errors
# ===============================================

### List available database error scenarios
GET http://localhost:8081/v1/errors/database/scenarios
Content-Type: application/json

### Test database connection timeout (90% failure rate)
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "connection_timeout",
  "force_error": false,
  "retry_attempts": 2,
  "operation_context": "user_query"
}

### Test database connection refused (95% failure rate)
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "connection_refused",
  "force_error": false,
  "retry_attempts": 3,
  "operation_context": "background_job"
}

### Test database deadlock (70% failure rate)
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "deadlock",
  "force_error": false,
  "retry_attempts": 2,
  "operation_context": "user_query"
}

### Test connection pool exhaustion (80% failure rate)
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "pool_exhaustion",
  "force_error": false,
  "retry_attempts": 1,
  "operation_context": "health_check"
}

### Test network partition (100% failure rate)
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "network_partition",
  "force_error": true,
  "retry_attempts": 3,
  "operation_context": "migration"
}

### Test connection timeout with forced error
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "connection_timeout",
  "force_error": true,
  "retry_attempts": 2,
  "operation_context": "user_query"
}

### Test deadlock without retries
POST http://localhost:8081/v1/errors/database
Content-Type: application/json

{
  "error_type": "deadlock",
  "force_error": false,
  "retry_attempts": 0,
  "operation_context": "background_job"
}